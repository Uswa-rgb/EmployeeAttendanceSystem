{"remainingRequest":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hp\\Desktop\\project\\frontend\\src\\components\\Jobs.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\src\\components\\Jobs.vue","mtime":1609262193518},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499205700000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315579600000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499205700000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499205700000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHRvcGhlYWRlclZ1ZSBmcm9tICcuLi9jb21wb25lbnRzL3RvcGhlYWRlci52dWUnOwoKdmFyIGF4aW9zID0gcmVxdWlyZSgiYXhpb3MiKS5kZWZhdWx0OwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgICd0b3AtaGVhZGVyJzogdG9waGVhZGVyVnVlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VyclVzZXI6IGxvY2FsU3RvcmFnZS51aWQsCiAgICAgIHJlbmRlcktleTogMCwKICAgICAgY29sdW1uczogW3sKICAgICAgICBsYWJlbDogIlBhY2thZ2VJRCIsCiAgICAgICAgZmllbGQ6ICJQYWNrYWdlX0lEIiwKICAgICAgICB0eXBlOiAibnVtYmVyIgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICJEZWxpdmVyeSBBZGRyZXNzIiwKICAgICAgICBmaWVsZDogIkFkZHJlc3MiCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogIlN0YXR1cyIsCiAgICAgICAgZmllbGQ6ICJTdGF0dXMiLAogICAgICAgIHR5cGU6ICJ0ZXh0IgogICAgICB9XSwKICAgICAgcm93czogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDdXJyZW50VGltZTogZnVuY3Rpb24gZ2V0Q3VycmVudFRpbWUodWlkLCBwaWQsIHN0YXR1cykgewogICAgICBjb25zb2xlLmxvZyh1aWQpOwogICAgICBjb25zb2xlLmxvZyhwaWQpOwogICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTsgLy8gY29uc29sZS5sb2codGhpcy5yb3dzKQoKICAgICAgdmFyIHRpbWVzdGFtcCA9IG5vdy5nZXRIb3VycygpICsgIjoiICsgKG5vdy5nZXRNaW51dGVzKCkgPCAxMCA/ICIwIiArIG5vdy5nZXRNaW51dGVzKCkgOiBub3cuZ2V0TWludXRlcygpKSArICI6IiArIChub3cuZ2V0U2Vjb25kcygpIDwgMTAgPyAiMCIgKyBub3cuZ2V0U2Vjb25kcygpIDogbm93LmdldFNlY29uZHMoKSk7CgogICAgICBpZiAoc3RhdHVzIDwgMikgewogICAgICAgIHN0YXR1cyArPSAxOwogICAgICB9CgogICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvdGltZSIsIHsKICAgICAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIHN0aW1lOiB0aW1lc3RhbXAsCiAgICAgICAgICB1c2VyOiB1aWQsCiAgICAgICAgICBwa2dJRDogcGlkLAogICAgICAgICAgc3RhdDogc3RhdHVzCiAgICAgICAgfQogICAgICB9KTsgLy8gICAudGhlbigKICAgICAgLy8gICAocmVzcG9uc2UpID0+IHsKICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgLy8gICB9LAogICAgICAvLyAgIChlcnJvcikgPT4gewogICAgICAvLyAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIC8vICAgfQogICAgICAvLyApOwoKICAgICAgdGhpcy5mZXRjaGRhdGEoKTsKICAgICAgdGhpcy5yZW5kZXJLZXkrKzsKICAgIH0sCiAgICBmZXRjaGRhdGE6IGZ1bmN0aW9uIGZldGNoZGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL0RlbGl2ZXJpZXMiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuRGF0YSk7CiAgICAgICAgX3RoaXMucm93cyA9IHJlc3BvbnNlLmRhdGEuRGF0YTsgLy8gY29uc29sZS5sb2codGhpcy5yb3dzKQogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hkYXRhKCk7IC8vIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL0RlbGl2ZXJpZXMiKS50aGVuKAogICAgLy8gICAocmVzcG9uc2UpID0+IHsKICAgIC8vICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLkRhdGEpOwogICAgLy8gICAgIHRoaXMucm93cyA9IHJlc3BvbnNlLmRhdGEuRGF0YTsKICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnJvd3MpCiAgICAvLyAgIH0sCiAgICAvLyAgIChlcnJvcikgPT4gewogICAgLy8gICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIC8vICAgfQogICAgLy8gKTsKICB9Cn07"},{"version":3,"sources":["Jobs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA,OAAA,YAAA,MAAA,6BAAA;;AACA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA,CAAA,OAAA;;AAGA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,kBAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,YAAA,CAAA,GADA;AAEA,MAAA,SAAA,EAAA,CAFA;AAGA,MAAA,OAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,WADA;AAEA,QAAA,KAAA,EAAA,YAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OADA,EAMA;AACA,QAAA,KAAA,EAAA,kBADA;AAEA,QAAA,KAAA,EAAA;AAFA,OANA,EAUA;AACA,QAAA,KAAA,EAAA,QADA;AAEA,QAAA,KAAA,EAAA,QAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAVA,CAHA;AAmBA,MAAA,IAAA,EAAA;AAnBA,KAAA;AAqBA,GA1BA;AA4BA,EAAA,OAAA,EAAA;AACA,IAAA,cAAA,EAAA,wBAAA,GAAA,EAAA,GAAA,EAAA,MAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,UAAA,GAAA,GAAA,IAAA,IAAA,EAAA,CAHA,CAIA;;AACA,UAAA,SAAA,GACA,GAAA,CAAA,QAAA,KACA,GADA,IAEA,GAAA,CAAA,UAAA,KAAA,EAAA,GAAA,MAAA,GAAA,CAAA,UAAA,EAAA,GAAA,GAAA,CAAA,UAAA,EAFA,IAGA,GAHA,IAIA,GAAA,CAAA,UAAA,KAAA,EAAA,GAAA,MAAA,GAAA,CAAA,UAAA,EAAA,GAAA,GAAA,CAAA,UAAA,EAJA,CADA;;AAOA,UAAA,MAAA,GAAA,CAAA,EAAA;AACA,QAAA,MAAA,IAAA,CAAA;AACA;;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,4BAAA,EAAA;AACA,QAAA,WAAA,EAAA,kBADA;AAEA,QAAA,IAAA,EAAA;AAAA,UAAA,KAAA,EAAA,SAAA;AAAA,UAAA,IAAA,EAAA,GAAA;AAAA,UAAA,KAAA,EAAA,GAAA;AAAA,UAAA,IAAA,EAAA;AAAA;AAFA,OAAA,EAfA,CAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,WAAA,SAAA;AACA,WAAA,SAAA;AAEA,KA/BA;AAgCA,IAAA,SAAA,EAAA,qBAAA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,kCAAA,EAAA,IAAA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAFA,CAGA;AACA,OALA,EAMA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,OARA;AAUA;AA3CA,GA5BA;AA0EA,EAAA,OA1EA,qBA0EA;AACA,SAAA,SAAA,GADA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtFA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <top-header></top-header>\r\n    <h1>Deliveries</h1>\r\n    <vue-good-table\r\n      :columns=\"columns\"\r\n      :rows=\"rows\"\r\n      :paginate=\"true\"\r\n      :responsive=\"true\"\r\n      :lineNumbers=\"false\"\r\n    >\r\n      <template slot=\"table-row\" slot-scope=\"props\">\r\n        <span v-if=\"props.column.field === 'Status'\" :key=\"renderKey\">\r\n          <b-button\r\n            block\r\n            v-if=\"props.row.Status == 0\"\r\n            type=\"button\"\r\n            class=\"btn btn-danger\"\r\n            v-on:click=\"getCurrentTime(currUser, props.row['Package_ID'],props.row['Status'])\"\r\n            >Start</b-button\r\n          >\r\n          <b-button\r\n            block\r\n            v-else-if=\"props.row.Status == 1\"\r\n            type=\"button\"\r\n            class=\"btn btn-warning\"\r\n            v-on:click=\"getCurrentTime(currUser, props.row['Package_ID'],props.row['Status'])\"\r\n            >Delivering</b-button\r\n          >\r\n          <b-button\r\n            block\r\n            v-else-if=\"props.row.Status == 2\"\r\n            type=\"button\"\r\n            class=\"btn btn-success\"\r\n            v-on:click=\"getCurrentTime(14, props.row['Package_ID'],props.row['Status'])\"\r\n            >Delivered</b-button\r\n          >\r\n        </span>\r\n        <span v-else> {{ props.formattedRow[props.column.field] }} </span>\r\n      </template>\r\n    </vue-good-table>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport topheaderVue from '../components/topheader.vue';\r\nconst axios = require(\"axios\").default;\r\n\r\n\r\nexport default {\r\n  components: {\r\n    'top-header': topheaderVue\r\n  },\r\n  data() {\r\n    return {\r\n      currUser: localStorage.uid,\r\n      renderKey: 0,\r\n      columns: [\r\n        {\r\n          label: \"PackageID\",\r\n          field: \"Package_ID\",\r\n          type: \"number\",\r\n        },\r\n        {\r\n          label: \"Delivery Address\",\r\n          field: \"Address\",\r\n        },\r\n        {\r\n          label: \"Status\",\r\n          field: \"Status\",\r\n          type: \"text\",\r\n        },\r\n      ],\r\n      rows: [],\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getCurrentTime: function (uid, pid,status) {\r\n      console.log(uid);\r\n      console.log(pid);\r\n      var now = new Date();\r\n      // console.log(this.rows)\r\n      var timestamp =\r\n        now.getHours() +\r\n        \":\" +\r\n        (now.getMinutes() < 10 ? \"0\" + now.getMinutes() : now.getMinutes()) +\r\n        \":\" +\r\n        (now.getSeconds() < 10 ? \"0\" + now.getSeconds() : now.getSeconds());\r\n      \r\n      if(status < 2){\r\n        status += 1;\r\n      }\r\n      axios.post(\"http://localhost:8000/time\", {\r\n        contentType: \"application/json\",\r\n        data: { stime: timestamp, user: uid, pkgID: pid, stat: status },\r\n      });\r\n      //   .then(\r\n      //   (response) => {\r\n      //     console.log(response);\r\n      //   },\r\n      //   (error) => {\r\n      //     console.error(error);\r\n      //   }\r\n      // );\r\n      this.fetchdata();\r\n      this.renderKey++;\r\n\r\n    },\r\n    fetchdata: function () {\r\n      axios.get(\"http://localhost:8000/Deliveries\").then(\r\n        (response) => {\r\n          console.log(response.data.Data);\r\n          this.rows = response.data.Data;\r\n          // console.log(this.rows)\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.fetchdata();\r\n    // axios.get(\"http://localhost:8000/Deliveries\").then(\r\n    //   (response) => {\r\n    //     console.log(response.data.Data);\r\n    //     this.rows = response.data.Data;\r\n    //     // console.log(this.rows)\r\n    //   },\r\n    //   (error) => {\r\n    //     console.log(error);\r\n    //   }\r\n    // );\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"],"sourceRoot":"src/components"}]}