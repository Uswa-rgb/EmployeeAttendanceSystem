{"remainingRequest":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hp\\Desktop\\project\\frontend\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\src\\views\\Login.vue","mtime":1609090877813},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499205700000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315579600000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499205700000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499205700000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgYXhpb3MgPSByZXF1aXJlKCJheGlvcyIpLmRlZmF1bHQ7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICIiLAogICAgICBwYXNzd29yZDogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvbG9naW4iLCB7CiAgICAgICAgZW1haWw6IHRoaXMuZW1haWwsCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICByZXR1cm4gX3RoaXMubG9naW5TdWNjZXNzZnVsKHJlc3BvbnNlKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfdGhpcy5sb2dpbkZhaWxlZCgpOwogICAgICB9KTsgLy90aGlzLmxvZ2luU3VjY2Vzc2Z1bChyZXNwb25zZSkKICAgIH0sCiAgICBsb2dpblN1Y2Nlc3NmdWw6IGZ1bmN0aW9uIGxvZ2luU3VjY2Vzc2Z1bChyZXEpIHsKICAgICAgaWYgKCFyZXEuZGF0YS50b2tlbikgewogICAgICAgIHRoaXMubG9naW5GYWlsZWQoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGxvY2FsU3RvcmFnZS50b2tlbiA9IHJlcS5kYXRhLnRva2VuOwogICAgICBsb2NhbFN0b3JhZ2UudWlkID0gcmVxLmRhdGEudXNlci5JRDsKICAgICAgbG9jYWxTdG9yYWdlLnR5cGUgPSByZXEuZGF0YS51c2VyLkVtcGxveWVlVHlwZTsKICAgICAgbG9jYWxTdG9yYWdlLmlzbWFya2VkID0gMDsKCiAgICAgIGlmIChyZXEuZGF0YS51c2VyLkVtcGxveWVlVHlwZSA9PT0gIlNhbGFyaWVkIikgewogICAgICAgIC8vY29uc29sZS5sb2coIk1lc3NhZ2U6Q2hlY2tpbmd0eXBlIik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnR5cGUgPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIGxvY2FsU3RvcmFnZS50eXBlID0gMTsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2cobG9jYWxTdG9yYWdlLnR5cGUpOwogICAgICB0aGlzLmVycm9yID0gZmFsc2U7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvSG9tZSIpOwogICAgfSwKICAgIGxvZ2luRmFpbGVkOiBmdW5jdGlvbiBsb2dpbkZhaWxlZCgpIHsKICAgICAgdGhpcy5lcnJvciA9ICJMb2dpbiBmYWlsZWQhIjsKICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZS50b2tlbjsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAobG9jYWxTdG9yYWdlLnRva2VuKSB7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvSG9tZSIpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,IAAA,KAAA,GAAA,OAAA,CAAA,OAAA,CAAA,CAAA,OAAA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,QAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,KADA,mBACA;AAAA;;AACA,MAAA,KAAA,CACA,IADA,CACA,6BADA,EACA;AAAA,QAAA,KAAA,EAAA,KAAA,KAAA;AAAA,QAAA,QAAA,EAAA,KAAA;AAAA,OADA,EAEA,IAFA,CAEA,UAAA,QAAA;AAAA,eAAA,KAAA,CAAA,eAAA,CAAA,QAAA,CAAA;AAAA,OAFA,EAGA,KAHA,CAGA;AAAA,eAAA,KAAA,CAAA,WAAA,EAAA;AAAA,OAHA,EADA,CAKA;AACA,KAPA;AASA,IAAA,eATA,2BASA,GATA,EASA;AACA,UAAA,CAAA,GAAA,CAAA,IAAA,CAAA,KAAA,EAAA;AACA,aAAA,WAAA;AACA;AACA;;AAEA,MAAA,YAAA,CAAA,KAAA,GAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,MAAA,YAAA,CAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,EAAA;AACA,MAAA,YAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,YAAA;AACA,MAAA,YAAA,CAAA,QAAA,GAAA,CAAA;;AACA,UAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,YAAA,KAAA,UAAA,EAAA;AACA;AACA,QAAA,YAAA,CAAA,IAAA,GAAA,CAAA;AACA,OAHA,MAIA;AACA,QAAA,YAAA,CAAA,IAAA,GAAA,CAAA;AACA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,YAAA,CAAA,IAAA;AAEA,WAAA,KAAA,GAAA,KAAA;AAEA,WAAA,OAAA,CAAA,OAAA,CAAA,OAAA;AACA,KA/BA;AAiCA,IAAA,WAjCA,yBAiCA;AACA,WAAA,KAAA,GAAA,eAAA;AACA,aAAA,YAAA,CAAA,KAAA;AACA;AApCA,GARA;AA+CA,EAAA,OA/CA,qBA+CA;AACA,QAAA,YAAA,CAAA,KAAA,EAAA;AACA,WAAA,OAAA,CAAA,OAAA,CAAA,OAAA;AACA;AACA;AAnDA,CAAA","sourcesContent":["<template>\r\n  <div class=\"login-wrapper border border-light\">\r\n    <form class=\"form-signin\" @submit.prevent=\"login\">\r\n      <h2 class=\"form-signin-heading\">Please sign in</h2>\r\n      <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\r\n      <input\r\n        v-model=\"email\"\r\n        type=\"email\"\r\n        id=\"inputEmail\"\r\n        class=\"form-control\"\r\n        placeholder=\"Email address\"\r\n        required\r\n        autofocus\r\n      />\r\n      <label for=\"inputPassword\" class=\"sr-only\">Password</label>\r\n      <input\r\n        v-model=\"password\"\r\n        type=\"password\"\r\n        id=\"inputPassword\"\r\n        class=\"form-control\"\r\n        placeholder=\"Password\"\r\n        required\r\n      />\r\n      <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">\r\n        Sign in\r\n      </button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst axios = require(\"axios\").default;\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      password: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    login() {\r\n      axios\r\n        .post(\"http://localhost:8000/login\", { email: this.email, password: this.password })\r\n        .then((response) => this.loginSuccessful(response))\r\n        .catch(() => this.loginFailed());\r\n      //this.loginSuccessful(response)\r\n    },\r\n\r\n    loginSuccessful(req) {\r\n      if (!req.data.token) {\r\n        this.loginFailed();\r\n        return;\r\n      }\r\n\r\n      localStorage.token = req.data.token;\r\n      localStorage.uid = req.data.user.ID;\r\n      localStorage.type = req.data.user.EmployeeType;\r\n      localStorage.ismarked = 0;\r\n      if(req.data.user.EmployeeType === \"Salaried\"){\r\n        //console.log(\"Message:Checkingtype\");\r\n        localStorage.type = 0;\r\n      }\r\n      else{\r\n        localStorage.type = 1;\r\n      }\r\n      console.log(localStorage.type);\r\n      \r\n      this.error = false;\r\n\r\n      this.$router.replace(\"/Home\");\r\n    },\r\n\r\n    loginFailed() {\r\n      this.error = \"Login failed!\";\r\n      delete localStorage.token;\r\n    },\r\n  },\r\n\r\n  created(){\r\n    if(localStorage.token){\r\n      this.$router.replace(\"/Home\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\">\r\nbody {\r\n  background: #f8f4ef;\r\n}\r\n\r\n.login-wrapper {\r\n  background: #fff;\r\n  width: 70%;\r\n  margin: 12% auto;\r\n}\r\n\r\n.form-signin {\r\n  max-width: 330px;\r\n  padding: 10% 15px;\r\n  margin: 0 auto;\r\n}\r\n.form-signin .form-signin-heading,\r\n.form-signin .checkbox {\r\n  margin-bottom: 10px;\r\n}\r\n.form-signin .checkbox {\r\n  font-weight: normal;\r\n}\r\n.form-signin .form-control {\r\n  position: relative;\r\n  height: auto;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  padding: 10px;\r\n  font-size: 16px;\r\n}\r\n.form-signin .form-control:focus {\r\n  z-index: 2;\r\n}\r\n.form-signin input[type=\"email\"] {\r\n  margin-bottom: -1px;\r\n  border-bottom-right-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n.form-signin input[type=\"password\"] {\r\n  margin-bottom: 10px;\r\n  border-top-left-radius: 0;\r\n  border-top-right-radius: 0;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}