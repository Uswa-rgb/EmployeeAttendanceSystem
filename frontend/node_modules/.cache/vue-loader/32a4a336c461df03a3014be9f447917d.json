{"remainingRequest":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hp\\Desktop\\project\\frontend\\src\\views\\Login.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\src\\views\\Login.vue","mtime":1609090877813},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\css-loader\\dist\\cjs.js","mtime":499205700000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499205700000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499205700000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499205700000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499205700000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KYm9keSB7DQogIGJhY2tncm91bmQ6ICNmOGY0ZWY7DQp9DQoNCi5sb2dpbi13cmFwcGVyIHsNCiAgYmFja2dyb3VuZDogI2ZmZjsNCiAgd2lkdGg6IDcwJTsNCiAgbWFyZ2luOiAxMiUgYXV0bzsNCn0NCg0KLmZvcm0tc2lnbmluIHsNCiAgbWF4LXdpZHRoOiAzMzBweDsNCiAgcGFkZGluZzogMTAlIDE1cHg7DQogIG1hcmdpbjogMCBhdXRvOw0KfQ0KLmZvcm0tc2lnbmluIC5mb3JtLXNpZ25pbi1oZWFkaW5nLA0KLmZvcm0tc2lnbmluIC5jaGVja2JveCB7DQogIG1hcmdpbi1ib3R0b206IDEwcHg7DQp9DQouZm9ybS1zaWduaW4gLmNoZWNrYm94IHsNCiAgZm9udC13ZWlnaHQ6IG5vcm1hbDsNCn0NCi5mb3JtLXNpZ25pbiAuZm9ybS1jb250cm9sIHsNCiAgcG9zaXRpb246IHJlbGF0aXZlOw0KICBoZWlnaHQ6IGF1dG87DQogIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgcGFkZGluZzogMTBweDsNCiAgZm9udC1zaXplOiAxNnB4Ow0KfQ0KLmZvcm0tc2lnbmluIC5mb3JtLWNvbnRyb2w6Zm9jdXMgew0KICB6LWluZGV4OiAyOw0KfQ0KLmZvcm0tc2lnbmluIGlucHV0W3R5cGU9ImVtYWlsIl0gew0KICBtYXJnaW4tYm90dG9tOiAtMXB4Ow0KICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMDsNCiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDsNCn0NCi5mb3JtLXNpZ25pbiBpbnB1dFt0eXBlPSJwYXNzd29yZCJdIHsNCiAgbWFyZ2luLWJvdHRvbTogMTBweDsNCiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogMDsNCiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDA7DQp9DQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"login-wrapper border border-light\">\r\n    <form class=\"form-signin\" @submit.prevent=\"login\">\r\n      <h2 class=\"form-signin-heading\">Please sign in</h2>\r\n      <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\r\n      <input\r\n        v-model=\"email\"\r\n        type=\"email\"\r\n        id=\"inputEmail\"\r\n        class=\"form-control\"\r\n        placeholder=\"Email address\"\r\n        required\r\n        autofocus\r\n      />\r\n      <label for=\"inputPassword\" class=\"sr-only\">Password</label>\r\n      <input\r\n        v-model=\"password\"\r\n        type=\"password\"\r\n        id=\"inputPassword\"\r\n        class=\"form-control\"\r\n        placeholder=\"Password\"\r\n        required\r\n      />\r\n      <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">\r\n        Sign in\r\n      </button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst axios = require(\"axios\").default;\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      password: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    login() {\r\n      axios\r\n        .post(\"http://localhost:8000/login\", { email: this.email, password: this.password })\r\n        .then((response) => this.loginSuccessful(response))\r\n        .catch(() => this.loginFailed());\r\n      //this.loginSuccessful(response)\r\n    },\r\n\r\n    loginSuccessful(req) {\r\n      if (!req.data.token) {\r\n        this.loginFailed();\r\n        return;\r\n      }\r\n\r\n      localStorage.token = req.data.token;\r\n      localStorage.uid = req.data.user.ID;\r\n      localStorage.type = req.data.user.EmployeeType;\r\n      localStorage.ismarked = 0;\r\n      if(req.data.user.EmployeeType === \"Salaried\"){\r\n        //console.log(\"Message:Checkingtype\");\r\n        localStorage.type = 0;\r\n      }\r\n      else{\r\n        localStorage.type = 1;\r\n      }\r\n      console.log(localStorage.type);\r\n      \r\n      this.error = false;\r\n\r\n      this.$router.replace(\"/Home\");\r\n    },\r\n\r\n    loginFailed() {\r\n      this.error = \"Login failed!\";\r\n      delete localStorage.token;\r\n    },\r\n  },\r\n\r\n  created(){\r\n    if(localStorage.token){\r\n      this.$router.replace(\"/Home\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\">\r\nbody {\r\n  background: #f8f4ef;\r\n}\r\n\r\n.login-wrapper {\r\n  background: #fff;\r\n  width: 70%;\r\n  margin: 12% auto;\r\n}\r\n\r\n.form-signin {\r\n  max-width: 330px;\r\n  padding: 10% 15px;\r\n  margin: 0 auto;\r\n}\r\n.form-signin .form-signin-heading,\r\n.form-signin .checkbox {\r\n  margin-bottom: 10px;\r\n}\r\n.form-signin .checkbox {\r\n  font-weight: normal;\r\n}\r\n.form-signin .form-control {\r\n  position: relative;\r\n  height: auto;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  padding: 10px;\r\n  font-size: 16px;\r\n}\r\n.form-signin .form-control:focus {\r\n  z-index: 2;\r\n}\r\n.form-signin input[type=\"email\"] {\r\n  margin-bottom: -1px;\r\n  border-bottom-right-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n.form-signin input[type=\"password\"] {\r\n  margin-bottom: 10px;\r\n  border-top-left-radius: 0;\r\n  border-top-right-radius: 0;\r\n}\r\n</style>\r\n"]}]}