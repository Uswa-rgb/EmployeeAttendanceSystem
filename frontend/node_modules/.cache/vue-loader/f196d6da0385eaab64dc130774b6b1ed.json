{"remainingRequest":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hp\\Desktop\\project\\frontend\\src\\components\\Jobs.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\src\\components\\Jobs.vue","mtime":1609262193518},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499205700000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315579600000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499205700000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499205700000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgdG9waGVhZGVyVnVlIGZyb20gJy4uL2NvbXBvbmVudHMvdG9waGVhZGVyLnZ1ZSc7DQpjb25zdCBheGlvcyA9IHJlcXVpcmUoImF4aW9zIikuZGVmYXVsdDsNCg0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICAndG9wLWhlYWRlcic6IHRvcGhlYWRlclZ1ZQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjdXJyVXNlcjogbG9jYWxTdG9yYWdlLnVpZCwNCiAgICAgIHJlbmRlcktleTogMCwNCiAgICAgIGNvbHVtbnM6IFsNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAiUGFja2FnZUlEIiwNCiAgICAgICAgICBmaWVsZDogIlBhY2thZ2VfSUQiLA0KICAgICAgICAgIHR5cGU6ICJudW1iZXIiLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICJEZWxpdmVyeSBBZGRyZXNzIiwNCiAgICAgICAgICBmaWVsZDogIkFkZHJlc3MiLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICJTdGF0dXMiLA0KICAgICAgICAgIGZpZWxkOiAiU3RhdHVzIiwNCiAgICAgICAgICB0eXBlOiAidGV4dCIsDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgcm93czogW10sDQogICAgfTsNCiAgfSwNCg0KICBtZXRob2RzOiB7DQogICAgZ2V0Q3VycmVudFRpbWU6IGZ1bmN0aW9uICh1aWQsIHBpZCxzdGF0dXMpIHsNCiAgICAgIGNvbnNvbGUubG9nKHVpZCk7DQogICAgICBjb25zb2xlLmxvZyhwaWQpOw0KICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7DQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnJvd3MpDQogICAgICB2YXIgdGltZXN0YW1wID0NCiAgICAgICAgbm93LmdldEhvdXJzKCkgKw0KICAgICAgICAiOiIgKw0KICAgICAgICAobm93LmdldE1pbnV0ZXMoKSA8IDEwID8gIjAiICsgbm93LmdldE1pbnV0ZXMoKSA6IG5vdy5nZXRNaW51dGVzKCkpICsNCiAgICAgICAgIjoiICsNCiAgICAgICAgKG5vdy5nZXRTZWNvbmRzKCkgPCAxMCA/ICIwIiArIG5vdy5nZXRTZWNvbmRzKCkgOiBub3cuZ2V0U2Vjb25kcygpKTsNCiAgICAgIA0KICAgICAgaWYoc3RhdHVzIDwgMil7DQogICAgICAgIHN0YXR1cyArPSAxOw0KICAgICAgfQ0KICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL3RpbWUiLCB7DQogICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbiIsDQogICAgICAgIGRhdGE6IHsgc3RpbWU6IHRpbWVzdGFtcCwgdXNlcjogdWlkLCBwa2dJRDogcGlkLCBzdGF0OiBzdGF0dXMgfSwNCiAgICAgIH0pOw0KICAgICAgLy8gICAudGhlbigNCiAgICAgIC8vICAgKHJlc3BvbnNlKSA9PiB7DQogICAgICAvLyAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOw0KICAgICAgLy8gICB9LA0KICAgICAgLy8gICAoZXJyb3IpID0+IHsNCiAgICAgIC8vICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsNCiAgICAgIC8vICAgfQ0KICAgICAgLy8gKTsNCiAgICAgIHRoaXMuZmV0Y2hkYXRhKCk7DQogICAgICB0aGlzLnJlbmRlcktleSsrOw0KDQogICAgfSwNCiAgICBmZXRjaGRhdGE6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDAwL0RlbGl2ZXJpZXMiKS50aGVuKA0KICAgICAgICAocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLkRhdGEpOw0KICAgICAgICAgIHRoaXMucm93cyA9IHJlc3BvbnNlLmRhdGEuRGF0YTsNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnJvd3MpDQogICAgICAgIH0sDQogICAgICAgIChlcnJvcikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgICAgfQ0KICAgICAgKTsNCiAgICB9LA0KICB9LA0KDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5mZXRjaGRhdGEoKTsNCiAgICAvLyBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9EZWxpdmVyaWVzIikudGhlbigNCiAgICAvLyAgIChyZXNwb25zZSkgPT4gew0KICAgIC8vICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLkRhdGEpOw0KICAgIC8vICAgICB0aGlzLnJvd3MgPSByZXNwb25zZS5kYXRhLkRhdGE7DQogICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucm93cykNCiAgICAvLyAgIH0sDQogICAgLy8gICAoZXJyb3IpID0+IHsNCiAgICAvLyAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgIC8vICAgfQ0KICAgIC8vICk7DQogIH0sDQp9Ow0K"},{"version":3,"sources":["Jobs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Jobs.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <top-header></top-header>\r\n    <h1>Deliveries</h1>\r\n    <vue-good-table\r\n      :columns=\"columns\"\r\n      :rows=\"rows\"\r\n      :paginate=\"true\"\r\n      :responsive=\"true\"\r\n      :lineNumbers=\"false\"\r\n    >\r\n      <template slot=\"table-row\" slot-scope=\"props\">\r\n        <span v-if=\"props.column.field === 'Status'\" :key=\"renderKey\">\r\n          <b-button\r\n            block\r\n            v-if=\"props.row.Status == 0\"\r\n            type=\"button\"\r\n            class=\"btn btn-danger\"\r\n            v-on:click=\"getCurrentTime(currUser, props.row['Package_ID'],props.row['Status'])\"\r\n            >Start</b-button\r\n          >\r\n          <b-button\r\n            block\r\n            v-else-if=\"props.row.Status == 1\"\r\n            type=\"button\"\r\n            class=\"btn btn-warning\"\r\n            v-on:click=\"getCurrentTime(currUser, props.row['Package_ID'],props.row['Status'])\"\r\n            >Delivering</b-button\r\n          >\r\n          <b-button\r\n            block\r\n            v-else-if=\"props.row.Status == 2\"\r\n            type=\"button\"\r\n            class=\"btn btn-success\"\r\n            v-on:click=\"getCurrentTime(14, props.row['Package_ID'],props.row['Status'])\"\r\n            >Delivered</b-button\r\n          >\r\n        </span>\r\n        <span v-else> {{ props.formattedRow[props.column.field] }} </span>\r\n      </template>\r\n    </vue-good-table>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport topheaderVue from '../components/topheader.vue';\r\nconst axios = require(\"axios\").default;\r\n\r\n\r\nexport default {\r\n  components: {\r\n    'top-header': topheaderVue\r\n  },\r\n  data() {\r\n    return {\r\n      currUser: localStorage.uid,\r\n      renderKey: 0,\r\n      columns: [\r\n        {\r\n          label: \"PackageID\",\r\n          field: \"Package_ID\",\r\n          type: \"number\",\r\n        },\r\n        {\r\n          label: \"Delivery Address\",\r\n          field: \"Address\",\r\n        },\r\n        {\r\n          label: \"Status\",\r\n          field: \"Status\",\r\n          type: \"text\",\r\n        },\r\n      ],\r\n      rows: [],\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getCurrentTime: function (uid, pid,status) {\r\n      console.log(uid);\r\n      console.log(pid);\r\n      var now = new Date();\r\n      // console.log(this.rows)\r\n      var timestamp =\r\n        now.getHours() +\r\n        \":\" +\r\n        (now.getMinutes() < 10 ? \"0\" + now.getMinutes() : now.getMinutes()) +\r\n        \":\" +\r\n        (now.getSeconds() < 10 ? \"0\" + now.getSeconds() : now.getSeconds());\r\n      \r\n      if(status < 2){\r\n        status += 1;\r\n      }\r\n      axios.post(\"http://localhost:8000/time\", {\r\n        contentType: \"application/json\",\r\n        data: { stime: timestamp, user: uid, pkgID: pid, stat: status },\r\n      });\r\n      //   .then(\r\n      //   (response) => {\r\n      //     console.log(response);\r\n      //   },\r\n      //   (error) => {\r\n      //     console.error(error);\r\n      //   }\r\n      // );\r\n      this.fetchdata();\r\n      this.renderKey++;\r\n\r\n    },\r\n    fetchdata: function () {\r\n      axios.get(\"http://localhost:8000/Deliveries\").then(\r\n        (response) => {\r\n          console.log(response.data.Data);\r\n          this.rows = response.data.Data;\r\n          // console.log(this.rows)\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.fetchdata();\r\n    // axios.get(\"http://localhost:8000/Deliveries\").then(\r\n    //   (response) => {\r\n    //     console.log(response.data.Data);\r\n    //     this.rows = response.data.Data;\r\n    //     // console.log(this.rows)\r\n    //   },\r\n    //   (error) => {\r\n    //     console.log(error);\r\n    //   }\r\n    // );\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}