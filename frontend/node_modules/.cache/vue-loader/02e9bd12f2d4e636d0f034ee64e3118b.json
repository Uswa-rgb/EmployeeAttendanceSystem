{"remainingRequest":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hp\\Desktop\\project\\frontend\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\src\\views\\Login.vue","mtime":1609090877813},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499205700000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315579600000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499205700000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499205700000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpjb25zdCBheGlvcyA9IHJlcXVpcmUoImF4aW9zIikuZGVmYXVsdDsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiTG9naW4iLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBlbWFpbDogIiIsDQogICAgICBwYXNzd29yZDogIiIsDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGxvZ2luKCkgew0KICAgICAgYXhpb3MNCiAgICAgICAgLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9sb2dpbiIsIHsgZW1haWw6IHRoaXMuZW1haWwsIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkIH0pDQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gdGhpcy5sb2dpblN1Y2Nlc3NmdWwocmVzcG9uc2UpKQ0KICAgICAgICAuY2F0Y2goKCkgPT4gdGhpcy5sb2dpbkZhaWxlZCgpKTsNCiAgICAgIC8vdGhpcy5sb2dpblN1Y2Nlc3NmdWwocmVzcG9uc2UpDQogICAgfSwNCg0KICAgIGxvZ2luU3VjY2Vzc2Z1bChyZXEpIHsNCiAgICAgIGlmICghcmVxLmRhdGEudG9rZW4pIHsNCiAgICAgICAgdGhpcy5sb2dpbkZhaWxlZCgpOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQoNCiAgICAgIGxvY2FsU3RvcmFnZS50b2tlbiA9IHJlcS5kYXRhLnRva2VuOw0KICAgICAgbG9jYWxTdG9yYWdlLnVpZCA9IHJlcS5kYXRhLnVzZXIuSUQ7DQogICAgICBsb2NhbFN0b3JhZ2UudHlwZSA9IHJlcS5kYXRhLnVzZXIuRW1wbG95ZWVUeXBlOw0KICAgICAgbG9jYWxTdG9yYWdlLmlzbWFya2VkID0gMDsNCiAgICAgIGlmKHJlcS5kYXRhLnVzZXIuRW1wbG95ZWVUeXBlID09PSAiU2FsYXJpZWQiKXsNCiAgICAgICAgLy9jb25zb2xlLmxvZygiTWVzc2FnZTpDaGVja2luZ3R5cGUiKTsNCiAgICAgICAgbG9jYWxTdG9yYWdlLnR5cGUgPSAwOw0KICAgICAgfQ0KICAgICAgZWxzZXsNCiAgICAgICAgbG9jYWxTdG9yYWdlLnR5cGUgPSAxOw0KICAgICAgfQ0KICAgICAgY29uc29sZS5sb2cobG9jYWxTdG9yYWdlLnR5cGUpOw0KICAgICAgDQogICAgICB0aGlzLmVycm9yID0gZmFsc2U7DQoNCiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvSG9tZSIpOw0KICAgIH0sDQoNCiAgICBsb2dpbkZhaWxlZCgpIHsNCiAgICAgIHRoaXMuZXJyb3IgPSAiTG9naW4gZmFpbGVkISI7DQogICAgICBkZWxldGUgbG9jYWxTdG9yYWdlLnRva2VuOw0KICAgIH0sDQogIH0sDQoNCiAgY3JlYXRlZCgpew0KICAgIGlmKGxvY2FsU3RvcmFnZS50b2tlbil7DQogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgiL0hvbWUiKTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"login-wrapper border border-light\">\r\n    <form class=\"form-signin\" @submit.prevent=\"login\">\r\n      <h2 class=\"form-signin-heading\">Please sign in</h2>\r\n      <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\r\n      <input\r\n        v-model=\"email\"\r\n        type=\"email\"\r\n        id=\"inputEmail\"\r\n        class=\"form-control\"\r\n        placeholder=\"Email address\"\r\n        required\r\n        autofocus\r\n      />\r\n      <label for=\"inputPassword\" class=\"sr-only\">Password</label>\r\n      <input\r\n        v-model=\"password\"\r\n        type=\"password\"\r\n        id=\"inputPassword\"\r\n        class=\"form-control\"\r\n        placeholder=\"Password\"\r\n        required\r\n      />\r\n      <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">\r\n        Sign in\r\n      </button>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst axios = require(\"axios\").default;\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      password: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    login() {\r\n      axios\r\n        .post(\"http://localhost:8000/login\", { email: this.email, password: this.password })\r\n        .then((response) => this.loginSuccessful(response))\r\n        .catch(() => this.loginFailed());\r\n      //this.loginSuccessful(response)\r\n    },\r\n\r\n    loginSuccessful(req) {\r\n      if (!req.data.token) {\r\n        this.loginFailed();\r\n        return;\r\n      }\r\n\r\n      localStorage.token = req.data.token;\r\n      localStorage.uid = req.data.user.ID;\r\n      localStorage.type = req.data.user.EmployeeType;\r\n      localStorage.ismarked = 0;\r\n      if(req.data.user.EmployeeType === \"Salaried\"){\r\n        //console.log(\"Message:Checkingtype\");\r\n        localStorage.type = 0;\r\n      }\r\n      else{\r\n        localStorage.type = 1;\r\n      }\r\n      console.log(localStorage.type);\r\n      \r\n      this.error = false;\r\n\r\n      this.$router.replace(\"/Home\");\r\n    },\r\n\r\n    loginFailed() {\r\n      this.error = \"Login failed!\";\r\n      delete localStorage.token;\r\n    },\r\n  },\r\n\r\n  created(){\r\n    if(localStorage.token){\r\n      this.$router.replace(\"/Home\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\">\r\nbody {\r\n  background: #f8f4ef;\r\n}\r\n\r\n.login-wrapper {\r\n  background: #fff;\r\n  width: 70%;\r\n  margin: 12% auto;\r\n}\r\n\r\n.form-signin {\r\n  max-width: 330px;\r\n  padding: 10% 15px;\r\n  margin: 0 auto;\r\n}\r\n.form-signin .form-signin-heading,\r\n.form-signin .checkbox {\r\n  margin-bottom: 10px;\r\n}\r\n.form-signin .checkbox {\r\n  font-weight: normal;\r\n}\r\n.form-signin .form-control {\r\n  position: relative;\r\n  height: auto;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  padding: 10px;\r\n  font-size: 16px;\r\n}\r\n.form-signin .form-control:focus {\r\n  z-index: 2;\r\n}\r\n.form-signin input[type=\"email\"] {\r\n  margin-bottom: -1px;\r\n  border-bottom-right-radius: 0;\r\n  border-bottom-left-radius: 0;\r\n}\r\n.form-signin input[type=\"password\"] {\r\n  margin-bottom: 10px;\r\n  border-top-left-radius: 0;\r\n  border-top-right-radius: 0;\r\n}\r\n</style>\r\n"]}]}