{"remainingRequest":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\hp\\Desktop\\project\\frontend\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\src\\views\\Home.vue","mtime":1609102841236},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499205700000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315579600000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499205700000},{"path":"C:\\Users\\hp\\Desktop\\project\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499205700000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB0b3BoZWFkZXJWdWUgZnJvbSAnLi4vY29tcG9uZW50cy90b3BoZWFkZXIudnVlJzsKY29uc3QgYXhpb3MgPSByZXF1aXJlKCJheGlvcyIpLmRlZmF1bHQ7Ci8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwovLyBpbXBvcnQgdGFza0NhcmQgZnJvbSAiQC9jb21wb25lbnRzL3Rhc2tDYXJkLnZ1ZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAoKICBjb21wb25lbnRzOiB7CiAgICAndG9wLWhlYWRlcic6IHRvcGhlYWRlclZ1ZQogICAgLy8gInRhc2stY2FyZCI6IHRhc2tDYXJkCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1wdHlwZTogbG9jYWxTdG9yYWdlLnR5cGUsCiAgICAgIE1hcmtlZDogZmFsc2UsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbWFya0F0dGVuZGFuY2UoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5pc21hcmtlZCA9IDI7CiAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgZGF0ZSA9CiAgICAgICAgbm93LmdldEZ1bGxZZWFyKCkgKyAiLSIgKyAobm93LmdldE1vbnRoKCkgKyAxKSArICItIiArIG5vdy5nZXREYXRlKCk7CiAgICAgIC8vIHZhciB0aW1lc3RhbXAgPQogICAgICAvLyAgIG5vdy5nZXRIb3VycygpICsKICAgICAgLy8gICAiOiIgKwogICAgICAvLyAgIChub3cuZ2V0TWludXRlcygpIDwgMTAgPyAiMCIgKyBub3cuZ2V0TWludXRlcygpIDogbm93LmdldE1pbnV0ZXMoKSkgKwogICAgICAvLyAgICI6IiArCiAgICAgIC8vICAgKG5vdy5nZXRTZWNvbmRzKCkgPCAxMCA/ICIwIiArIG5vdy5nZXRTZWNvbmRzKCkgOiBub3cuZ2V0U2Vjb25kcygpKTsKCiAgICAgIGNvbnNvbGUubG9nKGRhdGUpOwogICAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UudWlkKTsKICAgICAgLy8gY29uc29sZS5sb2codGltZXN0YW1wKQogICAgICBheGlvcwogICAgICAgIC5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjgwMDAvbWFyayIsIHsKICAgICAgICAgIC8vIHVpZDogbG9jYWxTdG9yYWdlLnVpZCwKICAgICAgICAgIC8vIHRpbWU6IHRpbWVzdGFtcCwKICAgICAgICAgIERhdGU6IGRhdGUsCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMuTWFya2VkID0gdHJ1ZTsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuTWFya2VkKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUubG9nKGVycm9yKSk7CiAgICB9LAoKICAgIGdldGF0dGVuZGFuY2UoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJJTlNJREUgR0VUIEFUVEVOREVOQ0UiKTsKICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBkYXRlMSA9CiAgICAgICAgbm93LmdldEZ1bGxZZWFyKCkgKyAiLSIgKyAobm93LmdldE1vbnRoKCkgKyAxKSArICItIiArIG5vdy5nZXREYXRlKCk7CiAgICAgIHZhciB0aW1lc3RhbXAxID0KICAgICAgICBub3cuZ2V0SG91cnMoKSArCiAgICAgICAgIjoiICsKICAgICAgICAobm93LmdldE1pbnV0ZXMoKSA8IDEwID8gIjAiICsgbm93LmdldE1pbnV0ZXMoKSA6IG5vdy5nZXRNaW51dGVzKCkpICsKICAgICAgICAiOiIgKwogICAgICAgIChub3cuZ2V0U2Vjb25kcygpIDwgMTAgPyAiMCIgKyBub3cuZ2V0U2Vjb25kcygpIDogbm93LmdldFNlY29uZHMoKSk7CiAgICAgIGNvbnNvbGUubG9nKGRhdGUxKTsKICAgICAgY29uc29sZS5sb2codGltZXN0YW1wMSk7CiAgICAgIGF4aW9zCiAgICAgICAgLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9nZXRhdHRlbmRhbmNlIiwgewogICAgICAgICAgdWlkOiBsb2NhbFN0b3JhZ2UudWlkLAogICAgICAgICAgdGltZTogIjAwOjAwOjAwIiwKICAgICAgICAgIC8vRGF0ZTogZGF0ZTEsCiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuTWFya2VkKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJJTlNJREUgR0VUIEFUVEVOREFOQ0UgVEhFTiIpOwogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coZXJyb3IpKTsKICAgIH0sCiAgICBjaGVja0F0dGVuZGFuY2UoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJJTlNJREUgQ0hFQ0sgQVRURU5EQU5DRSBGVU5DVElPTiIpOwogICAgICBjb25zb2xlLmxvZyhsb2NhbFN0b3JhZ2UuaXNtYXJrZWQpOwogICAgICBpZiAobG9jYWxTdG9yYWdlLmlzbWFya2VkID09IDIpIHsKICAgICAgICBjb25zb2xlLmxvZygibWFyayBhdHRlbmRhbmNlIik7CiAgICAgICAgdGhpcy5NYXJrZWQgPSB0cnVlOwogICAgICB9IGVsc2UgaWYgKGxvY2FsU3RvcmFnZS5pc21hcmtlZCA9PSAwKSB7CiAgICAgICAgY29uc29sZS5sb2coImluc2VydGluZyBlbXBsb3llZSIpOwogICAgICAgIHRoaXMuZ2V0YXR0ZW5kYW5jZSgpOwogICAgICAgIGxvY2FsU3RvcmFnZS5pc21hcmtlZCA9IDE7CiAgICAgICAgdGhpcy5NYXJrZWQgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICB9LAoKICBjcmVhdGVkKCkgewogICAgY29uc29sZS5sb2coImluc2lkZSBjcmVhdGVkICIpOwogICAgY29uc29sZS5sb2cobG9jYWxTdG9yYWdlLmlzbWFya2VkKTsKICAgIHRoaXMuY2hlY2tBdHRlbmRhbmNlKCk7CiAgfSwKfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n  <top-header></top-header>\n  <b-container>\n    <b-row align-v=\"center\">\n      <!-- <task-card></task-card>     -->\n      <b-col nd=\"3\">\n        <b-card\n          title=\"Mark Attendance\"\n          img-src=\"../../images/markattendance1.png\"\n          img-alt=\"Job Info\"\n          img-top\n          tag=\"article\"\n          style=\"max-width: 30res\"\n          class=\"mb-2\"\n          :key=\"Marked\"\n        >\n          <!-- <b-card-text>Mark your attendance on daily basis.</b-card-text>  -->\n          <b-button\n            block\n            v-if=\"Marked === false\"\n            v-on:click=\"markAttendance\"\n            class=\"btn btn-warning\"\n            >Un-Marked</b-button\n          >\n\n          <b-button block v-else-if=\"Marked === true\" class=\"btn btn-success\"\n            >Marked</b-button\n          >\n        </b-card>\n      </b-col>\n      <b-col nd=\"3\">\n        <!-- in case of salaired employee condition will be changed accordingly and this card will not \n        be visible to salaried employee -->\n        <b-card\n          title=\"Available Deliveries\"\n          img-src=\"../../images/deliveryimage.webp\"\n          img-alt=\"Job Info\"\n          img-top\n          tag=\"article\"\n          style=\"max-width: 20res\"\n          class=\"mb-2\"\n          v-if=\"emptype == 0\"\n        >\n          <b-card-text\n            >Choose any delivery location available in the list</b-card-text\n          >\n          <b-button varient=\"primary\" to=\"Jobs\">Deliveries</b-button>\n        </b-card>\n      </b-col>\n      <b-col nd=\"3\">\n        <b-card\n          title=\"Attendance History\"\n          img-src=\"../../images/history2.png\"\n          img-alt=\"Job Info\"\n          img-top\n          tag=\"article\"\n          style=\"max-width: 20res\"\n          class=\"mb-2\"\n        >\n          <b-card-text>Check your previous attendance records.</b-card-text>\n          <b-button varient=\"primary\" to=\"AttendanceHistory\"\n            >Attendance Records</b-button\n          >\n        </b-card>\n      </b-col>\n    </b-row>\n  </b-container>\n  </div>\n</template>\n\n<script>\nimport topheaderVue from '../components/topheader.vue';\nconst axios = require(\"axios\").default;\n// @ is an alias to /src\n// import taskCard from \"@/components/taskCard.vue\";\n\nexport default {\n  name: \"Home\",\n\n  components: {\n    'top-header': topheaderVue\n    // \"task-card\": taskCard\n  },\n  data() {\n    return {\n      emptype: localStorage.type,\n      Marked: false,\n    };\n  },\n  methods: {\n    markAttendance() {\n      localStorage.ismarked = 2;\n      var now = new Date();\n      var date =\n        now.getFullYear() + \"-\" + (now.getMonth() + 1) + \"-\" + now.getDate();\n      // var timestamp =\n      //   now.getHours() +\n      //   \":\" +\n      //   (now.getMinutes() < 10 ? \"0\" + now.getMinutes() : now.getMinutes()) +\n      //   \":\" +\n      //   (now.getSeconds() < 10 ? \"0\" + now.getSeconds() : now.getSeconds());\n\n      console.log(date);\n      console.log(localStorage.uid);\n      // console.log(timestamp)\n      axios\n        .post(\"http://localhost:8000/mark\", {\n          // uid: localStorage.uid,\n          // time: timestamp,\n          Date: date,\n        })\n        .then((response) => {\n          this.Marked = true;\n          console.log(this.Marked);\n          console.log(response);\n        })\n        .catch((error) => console.log(error));\n    },\n\n    getattendance() {\n      console.log(\"INSIDE GET ATTENDENCE\");\n      var now = new Date();\n      var date1 =\n        now.getFullYear() + \"-\" + (now.getMonth() + 1) + \"-\" + now.getDate();\n      var timestamp1 =\n        now.getHours() +\n        \":\" +\n        (now.getMinutes() < 10 ? \"0\" + now.getMinutes() : now.getMinutes()) +\n        \":\" +\n        (now.getSeconds() < 10 ? \"0\" + now.getSeconds() : now.getSeconds());\n      console.log(date1);\n      console.log(timestamp1);\n      axios\n        .post(\"http://localhost:8000/getattendance\", {\n          uid: localStorage.uid,\n          time: \"00:00:00\",\n          //Date: date1,\n        })\n        .then((response) => {\n          console.log(this.Marked);\n          console.log(\"INSIDE GET ATTENDANCE THEN\");\n          console.log(response);\n        })\n        .catch((error) => console.log(error));\n    },\n    checkAttendance() {\n      console.log(\"INSIDE CHECK ATTENDANCE FUNCTION\");\n      console.log(localStorage.ismarked);\n      if (localStorage.ismarked == 2) {\n        console.log(\"mark attendance\");\n        this.Marked = true;\n      } else if (localStorage.ismarked == 0) {\n        console.log(\"inserting employee\");\n        this.getattendance();\n        localStorage.ismarked = 1;\n        this.Marked = false;\n      }\n    },\n  },\n\n  created() {\n    console.log(\"inside created \");\n    console.log(localStorage.ismarked);\n    this.checkAttendance();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>\n"]}]}